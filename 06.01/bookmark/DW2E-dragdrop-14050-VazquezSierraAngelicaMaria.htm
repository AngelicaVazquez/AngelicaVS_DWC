<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Drag and drop</title>
    <style>
        * {
            font-family: Arial, Helvetica, sans-serif;
        }

        div {
            border: 1px black solid;
            border-radius: 5px;
            text-align: center;
            padding: 2px;
        }
        #contenedorBookmarks > div:not(:first-child):not(:last-child):hover {
            cursor: pointer;
        }

        #contenedorEtiquetas > div:not(:first-child):not(:last-child):hover {
            cursor: pointer;
        }
    </style>
	<script>
        //usar la lista como zona de drop para añadir, el ultimo campo [drop] como zona para borrar. por ejemplo
        //funciones para crear los cuadros con sus caracteristicas

        class Bookmark{
            constructor(titulo,url,descripcion){
                this.titulo = titulo;
                this.url = url;
                this.descripcion = descripcion;
            }
            html(y){
                var ele = document.createElement("div");
                ele.innerHTML="bookmark "+y;
                var t = this;
                ele.addEventListener("click", mostrarContenido(t));
                document.getElementById("contenedorBookmarks").append(ele);
            }
        }

        function iniciar() {

            //Contenedor principal
            var contenedor = document.createElement("div");
            contenedor.id = "contenedor";
            contenedor.style.display="flex";
            contenedor.style.justifyContent="space-evenly"
            contenedor.style.width="100%";
            document.body.appendChild(contenedor);

            //Datos de partida
            numB = window.prompt("Número de bookmarks");
            numE = window.prompt("Número de etiquetas");
            divBookmarks(numB);
            divEtiquetas(numE);



        }

        function divFiltro(arrayEtiquetas) {
            
        }

        function divBookmarks(x) {

            //Contenedor de los bookmarks
            var contenedorBookmarks = document.createElement("div");
            contenedorBookmarks.id = "contenedorBookmarks";
            contenedorBookmarks.style.display="flex";
            contenedorBookmarks.style.flexDirection="column";
            document.getElementById("contenedor").appendChild(contenedorBookmarks);

            //Div del título
            var title = document.createElement("div");
            title.innerHTML="BOOKMARKS";
            document.getElementById("contenedorBookmarks").appendChild(title);
            
            //Div del contenido
            var contenedorContenido = document.createElement("div");
            contenedorContenido.id = "contenedorContenido";
            document.getElementById("contenedor").appendChild(contenedorContenido);

            //Formulario
            var form = document.createElement("form");
            form.id = "form";
            form.setAttribute('method',"post");
            form.setAttribute('action',"submit.php");
            //Título
            var i = document.createElement("input");
            i.setAttribute('type',"text");
            i.setAttribute('name',"titulo");
            //URL
            var i2 = document.createElement("input");
            i2.setAttribute('type',"text");
            i2.setAttribute('name',"url");
            //Descripción
            var i3 = document.createElement("input");
            i3.setAttribute('type',"text");
            i3.setAttribute('name',"descripcion");

            var s = document.createElement("input");
            s.setAttribute('type',"submit");
            s.setAttribute('value',"Guardar");

            form.appendChild(i);
            form.appendChild(i2);
            form.appendChild(i3);
            form.appendChild(s);

            document.getElementById("contenedorContenido").appendChild(form);

            //Botón añadir
            var add = document.createElement("div");
            add.innerHTML="[ + ]";
            document.getElementById("contenedorBookmarks").appendChild(add);

            for (let i=0; i < x; i++) {
                var book = new Bookmark("B"+i,"url de B"+i,"descripcion de B"+i);
                book.html(i);
                console.log(book);
            }
        }

        function divContenido(t,u,d) {
            //const returnedTarget = Object.assign(target, source);
            //document.getElementById("contenedorContenido").cloneNode(contenidoBook);
            
            document.getElementById("form").elements["titulo"].text = t;
            document.getElementById("form").elements["url"].value = u;
            document.getElementById("form").elements["descripcion"].value = d;
        }

        function divEtiquetas(x) {

            //Contenerodr de las etiquetas
            var contenedorEtiquetas = document.createElement("div");
            contenedorEtiquetas.id = "contenedorEtiquetas";
            document.getElementById("contenedor").appendChild(contenedorEtiquetas);

            //Div del título
            var title = document.createElement("div");
            title.innerHTML="ETIQUETAS";
            document.getElementById("contenedorEtiquetas").appendChild(title);

            //Botón añadir
            var add = document.createElement("div");
            add.innerHTML="[ + ]";
            document.getElementById("contenedorEtiquetas").appendChild(add);

            for (let i=0; i < x; i++) {
                var elem = document.createElement("div");
                elem.innerHTML="etiqueta " + i;
                document.getElementById("contenedorEtiquetas").appendChild(elem);
            }
        }

        //Cuando se hace click en un bookmark
        function mostrarContenido(o) {
            //document.getElementById("contenedorContenido").appendChild(this);
            document.getElementById("form").reset();
            t = o.titulo;
            u = o.url;
            d = o.descripcion;
            divContenido(t,u,d);
            //console.log(o);
        }
        function clearfield() {
            document.getElementById("form").reset();
        }

        //Cuando se hace click en añadir
        function addBookmark() {

        }


        window.onload=iniciar;
    </script>
</head>
<body>

</body>
</html>