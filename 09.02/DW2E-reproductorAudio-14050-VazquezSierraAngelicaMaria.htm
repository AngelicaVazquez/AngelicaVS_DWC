<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<title>Actividad 09.02</title>

<script>

//cargar audios, cambiar color del fondo ritmo audio, obtener info del audio
//array con los nombres

    var indx = 0;
    var audios = ["https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3","https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3","https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"];
    var audio = new Audio();
    var estaSonando = true;

    function iniciar(){
        var contenedor = document.createElement("div");
        contenedor.id="contenedor";
        contenedor.style.width="75vw";
        contenedor.style.height="5rem";
        contenedor.style.border="solid darkgrey 1px";
        contenedor.style.borderRadius="5px";
        contenedor.style.boxShadow="0px 5px 30px grey";
        contenedor.style.margin="auto";
        contenedor.style.marginTop="5rem";
        document.body.appendChild(contenedor);

        //Div de los segundos reproducidos
        var segundos = document.createElement("div");
        segundos.id="segundos";
        segundos.style.width="1em";
        segundos.style.height="1em";
        document.getElementById("contenedor").appendChild(segundos);

        //Botón Reproducir
        var botonReproducir = document.createElement("i");
        botonReproducir.classList="fa fa-play-circle-o";
        botonReproducir.addEventListener("click", reproducir);
        document.getElementById("contenedor").appendChild(botonReproducir);

    }

    //Tiempo reproducido
    function duracion(intID,a){
        //en el pausar clearinterval
        clearInterval(intID);
        var sec = a.currentTime;
        document.getElementById("segundos").innerHTML=Math.round(sec);
    }

    //Función para botón Reproducir
    function reproducir(){
        //mirar si cambia,. sino probar a pasar el indx como parametro a esta func
        audio.src = audios[indx];

        if(estaSonando){
        audio.play();
        var intID = setInterval(duracion,1000,intID,audio);
        }
        else{
            audio.pause();
        }
    }

    //Función para botón Siguiente
    function siguiente(){
        indx++;
        if (indx > 2) {
            indx = 0;
        };
        audio.src = audios[indx];
        reproducir();
    }

    //Función para botón Anterior
    function siguiente(){
        indx--;
        if (indx < 0) {
            indx = 2;
        };
        audio.src = audios[indx];
        reproducir();
    }

window.onload = iniciar;
</script>
</head>
<body>
</body>
</html>